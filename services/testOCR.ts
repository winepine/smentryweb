const vision = require("@google-cloud/vision");
const { createCanvas, loadImage } = require("canvas");

async function extractTextFromImage() {
  // Create a new client

  const base64Image =
    "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";
  const client = new vision.ImageAnnotatorClient();

  // Create a buffer from the base64 image
  const imageBuffer = Buffer.from(base64Image, "base64");

  // Load the image using the 'canvas' library
  const image = await loadImage(imageBuffer);

  // Create a canvas instance with the same dimensions as the image
  const canvas = createCanvas(image.width, image.height);
  const ctx = canvas.getContext("2d");

  // Draw the image onto the canvas
  ctx.drawImage(image, 0, 0);

  // Convert the canvas to a base64 encoded image
  const outputImage = canvas.toDataURL("image/jpeg");

  // Make a request to the Google Cloud Vision API
  const [result] = await client.textDetection(outputImage);

  if (result.textAnnotations.length) {
    // Extract the first annotation (the full text)
    const fullText = result.textAnnotations[0].description;
    console.log(`Full text: ${fullText}`);
    return fullText;
  } else {
    return "No text found in the image.";
  }
}
export default extractTextFromImage;
